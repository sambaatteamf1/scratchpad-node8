{"version":3,"sources":["../../epi/array/k-sorted.js"],"names":["A","swap","leftIndex","cursor","tmp","console","log","sort","start","end","k","pivot","pivotIndex","length","nsorted","main","element"],"mappings":";;AAAA;AACA,IAAIA,IAAI,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAR;;AAEA,SAASC,IAAT,CAAcD,CAAd,EAAiBE,SAAjB,EAA4BC,MAA5B,EAAoC;AACnC,KAAIC,GAAJ;;AAEAC,SAAQC,GAAR,CAAY,WAAWN,EAAEE,SAAF,CAAX,GAA0B,MAA1B,GAAmCF,EAAEG,MAAF,CAA/C;AACAC,OAAMJ,EAAEE,SAAF,CAAN;AACAF,GAAEE,SAAF,IAAeF,EAAEG,MAAF,CAAf;AACAH,GAAEG,MAAF,IAAYC,GAAZ;;AAEA;AACA;;AAED,SAASG,IAAT,CAAcP,CAAd,EAAiBQ,KAAjB,EAAwBC,GAAxB,EAA6BC,CAA7B,EAAgC;AAC/B,KAAIC,QAAQ,CAAZ;AACA,KAAIC,aAAc,CAAlB;AACA,KAAIV,YAAYM,KAAhB;AACA,KAAIL,SAASK,KAAb;;AAEA,KAAIK,SAASJ,MAAMD,KAAnB;AACA,KAAIK,UAAU,CAAd,EAAiB;AAChB,SAAOb,EAAEQ,KAAF,CAAP;AACA;;AAEDI,cAAaH,GAAb;AACAE,SAAQX,EAAEY,UAAF,CAAR;;AAEAP,SAAQC,GAAR,CAAY,OAAON,CAAP,GAAY,UAAZ,GAAyBQ,KAAzB,GAAiC,QAAjC,GAA4CC,GAA5C,GAAkD,SAAlD,GAA8DE,KAA1E;;AAEA;AACA,QAAOR,SAAUK,QAAQK,MAAzB,EAAkC;AACjC,MAAIb,EAAEG,MAAF,KAAcQ,KAAlB,EAAyB;AACxBV,QAAKD,CAAL,EAAQE,SAAR,EAAmBC,MAAnB;AACAD,eAAYA,YAAY,CAAxB;AACA;AACD,IAAEC,MAAF;AACA;;AAEDF,MAAKD,CAAL,EAAQE,SAAR,EAAmBU,UAAnB;AACAA,cAAaV,SAAb;;AAEA,KAAIY,UAAUZ,YAAY,CAA1B;;AAEA,KAAIY,WAAWJ,CAAf,EAAkB;AACjB,SAAOV,EAAEY,UAAF,CAAP;AACA,EAFD,MAEO,IAAIE,UAAUJ,CAAd,EAAiB;AACvB,SAAOH,KAAKP,CAAL,EAAQQ,KAAR,EAAeI,aAAW,CAA1B,EAA6BF,CAA7B,CAAP;AACA,EAFM,MAEA;AACN,SAAOH,KAAKP,CAAL,EAAQY,aAAW,CAAnB,EAAsBH,GAAtB,EAA2BC,CAA3B,CAAP;AACA;AACD;;AAGD;AACA,SAASK,IAAT,CAAcL,CAAd,EAAiB;AAChB,QAAOH,KAAKP,CAAL,EAAQ,CAAR,EAAWA,EAAEa,MAAF,GAAS,CAApB,EAAuBH,CAAvB,CAAP;AACA;;AAGD,IAAIM,UAAUD,KAAK,CAAL,CAAd;AACAV,QAAQC,GAAR,CAAYU,OAAZ","file":"k-sorted.js","sourcesContent":["// var A  = [ 7, 2, 1, 6, 8, 5 , 3 , 4]\nvar A = [21, 11, 14, 1, 7, 3]\n\nfunction swap(A, leftIndex, cursor) {\n\tvar tmp \n\n\tconsole.log(\"swap: \" + A[leftIndex] + \" <- \" + A[cursor])\n\ttmp = A[leftIndex]\n\tA[leftIndex] = A[cursor]\n\tA[cursor] = tmp\n\n\treturn\n}\n\nfunction sort(A, start, end, k) {\n\tvar pivot = 0\n\tvar pivotIndex =  0\n\tvar leftIndex = start\n\tvar cursor = start\n\n\tvar length = end - start\n\tif (length == 0) {\n\t\treturn A[start]\n\t}\n\n\tpivotIndex = end\n\tpivot = A[pivotIndex]\n\n\tconsole.log(\"A:\" + A +  \" start: \" + start + \" end: \" + end + \" pivot:\" + pivot)\n\n\t// parition elements using the pivot\n\twhile (cursor < (start + length)) {\n\t\tif (A[cursor] <=  pivot) {\n\t\t\tswap(A, leftIndex, cursor)\n\t\t\tleftIndex = leftIndex + 1\n\t\t}\n\t\t++cursor\n\t}\n\n\tswap(A, leftIndex, pivotIndex)\n\tpivotIndex = leftIndex \n\n\tvar nsorted = leftIndex + 1 \n\n\tif (nsorted == k) {\n\t\treturn A[pivotIndex]\n\t} else if (nsorted > k) {\n\t\treturn sort(A, start, pivotIndex-1, k)\n\t} else {\n\t\treturn sort(A, pivotIndex+1, end, k)\n\t}\n}\n\n\n// find the kth smallest element\nfunction main(k) {\n\treturn sort(A, 0, A.length-1, k)\n}\n\n\nvar element = main(4)\nconsole.log(element)"]}